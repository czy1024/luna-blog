(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{618:function(n,s,t){n.exports=t.p+"assets/img/corntab-1.15cf8e0c.png"},814:function(n,s,t){"use strict";t.r(s);var e=t(7),a=Object(e.a)({},(function(){var n=this,s=n.$createElement,e=n._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h2",{attrs:{id:"格式说明与范例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#格式说明与范例"}},[n._v("#")]),n._v(" 格式说明与范例")]),n._v(" "),e("p",[e("img",{attrs:{src:t(618),alt:"img"}})]),n._v(" "),e("ul",[e("li",[e("ul",[e("li",[e("ul",[e("li",[e("ul",[e("li",[e("ul",[e("li",[n._v("command")])])])])])])])])])]),n._v(" "),e("p",[n._v("分　 时　 日　 月 周　 命令")]),n._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[n._v(" 第1列表示分钟1～59 每分钟用*或者 */1表示\n 第2列表示小时1～23（0表示0点）\n 第3列表示日期1～31\n 第4列表示月份1～12\n 第5列标识号星期0～6（0表示星期天）\n 第6列要运行的命令\n")])])]),e("p",[n._v("在以上各个字段中，还可以使用以下特殊字符：")]),n._v(" "),e("p",[n._v("星号（*）：代表所有可能的值，例如 month 字段如果是星号，则表示在满足其它字段的制约条件后每月都执行该命令操作。")]),n._v(" "),e("p",[n._v("逗号（,）：可以用逗号隔开的值指定一个列表范围，例如，“1,2,5,7,8,9”")]),n._v(" "),e("p",[n._v("中杠（-）：可以用整数之间的中杠表示一个整数范围，例如“2-6”表示“2,3,4,5,6”")]),n._v(" "),e("p",[n._v("正斜线（/）：可以用正斜线指定时间的间隔频率，例如“0-23/2”表示每两小时执行一次。同时正斜线可以和星号一起使用，例如*/10，如果用在 minute 字段，表示每十分钟执行一次。")]),n._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[n._v("安装crontab：\n\nyum "),e("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" crontabs "),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("||")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[n._v("apt-get")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[n._v("crontab")]),n._v("\n\n服务操作说明：\n\n/sbin/service crond start //启动服务\n\n/sbin/service crond stop //关闭服务\n\n/sbin/service crond restart //重启服务\n\n/sbin/service crond reload //重新载入配置\n\n查看crontab服务状态：\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[n._v("service")]),n._v(" crond status\n\n手动启动crontab服务：\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[n._v("service")]),n._v(" crond start\n\n查看crontab服务是否已设置为开机启动，执行命令：\n\nntsysv\n\n加入开机自动启动：\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[n._v("chkconfig")]),n._v(" –level "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("35")]),n._v(" crond on\n\n基础命令：\n\n-e 表示编辑当前的crontab\n\n-l 表示列表显示当前的crontab任务\n\n-r 表示删除当前用户的crontab\n\n-i 表示删除crontab时给予提示信息\n")])])]),e("h2",{attrs:{id:"使用实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用实例"}},[n._v("#")]),n._v(" 使用实例")]),n._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[n._v("Cron表达式范例：\n             每隔5秒执行一次：*/5 * * * * ?\n\n             每隔1分钟执行一次：0 */1 * * * ?\n\n             每天23点执行一次：0 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("23")]),n._v(" * * ?\n\n             每天凌晨1点执行一次：0 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(" * * ?\n\n             每月1号凌晨1点执行一次：0 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(" * ?\n\n             每月最后一天23点执行一次：0 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("23")]),n._v(" L * ?\n\n             每周星期天凌晨1点实行一次：0 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(" ? * L\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("、每天6:00执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(" * * * root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("2")]),n._v("、每周六凌晨4:00执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(" root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("3")]),n._v("、每周六凌晨4:05执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("5")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(" root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v("、每周六凌晨4:15执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("15")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(" root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("5")]),n._v("、每周六凌晨4:25执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("25")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(" root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v("、每周六凌晨4:35执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("35")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(" root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("7")]),n._v("、每周六凌晨5:00执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("5")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(" root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v("、每天8:40执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("40")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v(" * * * root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("9")]),n._v("、每天8:30执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v(" * * * root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10")]),n._v("、每周一到周五的11:41开始，每隔10分钟执行一次    "),e("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#值得借鉴")]),n._v("\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("41,51")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("11")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5   root /home/mvp/osyunwei.sh\n\n或者\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-59/10 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("12")]),n._v("-23 * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5   root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("11")]),n._v("、在每天的10:31开始，每隔2小时重复一次\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("31")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10")]),n._v("-23/2 * * * root   /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("12")]),n._v("、每天15:00执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("15")]),n._v(" * * *  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("13")]),n._v("、每天的10:30开始，每隔2小时重复一次\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10")]),n._v("-23/2 * * * root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("14")]),n._v("、每天15:30执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("15")]),n._v(" * * *  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("15")]),n._v("、每天17:50执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("50")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("17")]),n._v(" * * *  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("16")]),n._v("、每天8:00执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("17")]),n._v("、每天18:00执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("18")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("18")]),n._v("、每天8:30执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("19")]),n._v("、每天20:30\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("20")]),n._v(" * * *  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("20")]),n._v("、每周一到周五2:00\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("2")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5 root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("21")]),n._v("、每周一到周五9:30\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("9")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5 root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("22")]),n._v("、每周一到周五8:00，每周一到周五9:00\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8,9")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("23")]),n._v("、每天23:59\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("59")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("23")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("24")]),n._v("、每周六23:59\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("59")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("23")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v("  root    /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("25")]),n._v("、每天0:30\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("26")]),n._v("、每周一到周五9:25到11:35之间、13:00到15:00之间，每隔10分钟运行一次\n\n分区段写值得借鉴\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("25,35")]),n._v(",45,55  "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("9")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root   /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("5")]),n._v("-59/10  "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root   /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("5,15")]),n._v(",25,35  "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("11")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root   /home/mvp/osyunwei.sh\n\n*/10  "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("13")]),n._v("-15 * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root   /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("27")]),n._v("、每周一到周五8:30、8:50、9:30、10:00、10:30、11:00、11:30、13:30、14:00、14:30、5:00分别执行一次\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30,50")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("9")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root  /home/mvp/osyunwei.sh\n\n*/30 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10")]),n._v("-11 * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("13")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0,30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("14")]),n._v("-15 * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("28")]),n._v("、每天23:50执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("50")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("23")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("29")]),n._v("、每天10:00、16:00执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10,16")]),n._v(" * * *  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v("、每天5:30执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("5")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("31")]),n._v("、每周一到周五9:30执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("9")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("32")]),n._v("、每周一到周五13:00执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("13")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v("-5  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("33")]),n._v("、每天7:51执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("51")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("7")]),n._v(" * * *  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("34")]),n._v("、每天7:53、12:40分别执行一次\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("53")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("7")]),n._v(" * * *  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("40")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("12")]),n._v(" * * *  root /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("35")]),n._v("、每天7:55执行\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("55")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("7")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("36")]),n._v("、每天8:10、16:00、20:00分别执行一次\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("16")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("20")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("37")]),n._v("、每天7:57、8:00分别执行一次\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("57")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("7")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v(" * * *  root  /home/mvp/osyunwei.sh\n\n             在26分、29分、33分执行一次：0 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("26,29")]),n._v(",33 * * * ?\n\n             每天的0点、13点、18点、21点都执行一次：0 "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0,13")]),n._v(",18,21 * * ?\n\n实例1：每1分钟执行一次command\n\n命令：\n\n* * * * * "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("command")]),n._v("\n\n\n\n实例2：每小时的第3和第15分钟执行\n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("3,15")]),n._v(" * * * * "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("command")]),n._v("\n\n\n\n实例3：在上午8点到11点的第3和第15分钟执行\n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("3,15")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v("-11 * * * "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("command")]),n._v("\n\n\n\n实例4：每隔两天的上午8点到11点的第3和第15分钟执行\n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("3,15")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v("-11 */2 * * "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("command")]),n._v("\n\n\n\n实例5：每个星期一的上午8点到11点的第3和第15分钟执行\n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("3,15")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("8")]),n._v("-11 * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("command")]),n._v("\n\n\n\n实例6：每晚的21:30重启smb \n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("21")]),n._v(" * * * /etc/init.d/smb restart\n\n\n\n实例7：每月1、10、22日的4 "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v(":")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("45")]),n._v("重启smb \n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("45")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1,10")]),n._v(",22 * * /etc/init.d/smb restart\n\n\n\n实例8：每周六、周日的1 "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v(":")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10")]),n._v("重启smb\n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("10")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6,0")]),n._v(" /etc/init.d/smb restart\n\n\n\n实例9：每天18 "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v(":")]),n._v(" 00至23 "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v(":")]),n._v(" 00之间每隔30分钟重启smb \n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0,30")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("18")]),n._v("-23 * * * /etc/init.d/smb restart\n\n\n\n实例10：每星期六的晚上11 "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v(":")]),n._v(" 00 pm重启smb \n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("23")]),n._v(" * * "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(" /etc/init.d/smb restart\n\n\n\n实例11：每一小时重启smb \n\n命令：\n\n* */1 * * * /etc/init.d/smb restart\n\n\n\n实例12：晚上11点到早上7点之间，每隔一小时重启smb \n\n命令：\n\n* "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("23")]),n._v("-7/1 * * * /etc/init.d/smb restart\n\n\n\n实例13：每月的4号与每周一到周三的11点重启smb \n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("11")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(" * mon-wed /etc/init.d/smb restart\n\n\n\n实例14：一月一号的4点重启smb \n\n命令：\n\n"),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("0")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(" jan * /etc/init.d/smb restart\n\n实例15：每小时执行/etc/cron.hourly目录内的脚本\n\n命令：\n\n01   *   *   *   *     root run-parts /etc/cron.hourly\n\n说明：\n\nrun-parts这个参数了，如果去掉这个参数的话，后面就可以写要运行的某个脚本名，而不是目录名了\n\n")])])]),e("h2",{attrs:{id:"三、其他问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、其他问题"}},[n._v("#")]),n._v(" 三、其他问题")]),n._v(" "),e("h4",{attrs:{id:"注意环境变量问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意环境变量问题"}},[n._v("#")]),n._v(" 注意环境变量问题")]),n._v(" "),e("p",[n._v("有时我们创建了一个 crontab，但是这个任务却无法自动执行，而手动执行这个任务却没有问题，这种情况一般是由于在 crontab 文件中没有配置环境变量引起的。")]),n._v(" "),e("p",[n._v("在 crontab 文件中定义多个调度任务时，需要特别注意的一个问题就是环境变量的设置，因为我们手动执行某个任务时，是在当前 shell 环境下进行的，程序当然能找到环境变量，而系统自动执行任务调度时，是不会加载任何环境变量的，因此，就需要在 crontab 文件中指定任务运行所需的所有环境变量，这样，系统执行任务调度时就没有问题了。")]),n._v(" "),e("p",[n._v("不要假定 cron 知道所需要的特殊环境，它其实并不知道。所以你要保证在 shelll 脚本中提供所有必要的路径和环境变量，除了一些自动设置的全局变量。所以注意如下 3 点：")]),n._v(" "),e("p",[n._v("1）脚本中涉及文件路径时写全局路径；")]),n._v(" "),e("p",[n._v("2）脚本执行要用到 java 或其他环境变量时，通过 source 命令引入环境变量，如：")]),n._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[n._v("cat")]),n._v(" start_cbp.sh\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("#"),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("!")]),n._v("/bin/sh\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("source")]),n._v(" /etc/profile\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("export")]),n._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[n._v("RUN_CONF")]),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v("/home/d139/conf/platform/cbp/cbp_jboss.conf\n\n/usr/local/jboss-4.0.5/bin/run.sh -c mev "),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("&")]),n._v("\n")])])]),e("p",[n._v("3）当手动执行脚本 OK，但是 crontab 死活不执行时。这时必须大胆怀疑是环境变量惹的祸，并可以尝试在 crontab 中直接引入环境变量解决问题。如：")]),n._v(" "),e("p",[n._v("0 * * * * . /etc/profile;/bin/sh /var/www/java/audit_no_count/bin/restart_audit.sh")]),n._v(" "),e("h4",{attrs:{id:"注意清理系统用户的邮件日志"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#注意清理系统用户的邮件日志"}},[n._v("#")]),n._v(" 注意清理系统用户的邮件日志")]),n._v(" "),e("p",[n._v("每条任务调度执行完毕，系统都会将任务输出信息通过电子邮件的形式发送给当前系统用户，这样日积月累，日志信息会非常大，可能会影响系统的正常运行，因此，将每条任务进行重定向处理非常重要。")]),n._v(" "),e("p",[n._v("例如，可以在 crontab 文件中设置如下形式，忽略日志输出：")]),n._v(" "),e("p",[n._v("0 _/3 _ * * /usr/local/apache2/apachectl restart >/dev/null 2>&1")]),n._v(" "),e("p",[n._v("“/dev/null 2>&1”表示先将标准输出重定向到/dev/null，然后将标准错误重定向到标准输出，由于标准输出已经重定向到了/dev/null，因此标准错误也会重定向到/dev/null，这样日志输出问题就解决了。")]),n._v(" "),e("h4",{attrs:{id:"系统级任务调度与用户级任务调度"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统级任务调度与用户级任务调度"}},[n._v("#")]),n._v(" 系统级任务调度与用户级任务调度")]),n._v(" "),e("p",[n._v("系统级任务调度主要完成系统的一些维护操作，用户级任务调度主要完成用户自定义的一些任务，可以将用户级任务调度放到系统级任务调度来完成（不建议这么做），但是反过来却不行，root 用户的任务调度操作可以通过“crontab –uroot –e”来设置，也可以将调度任务直接写入/etc/crontab 文件，需要注意的是，如果要定义一个定时重启系统的任务，就必须将任务放到/etc/crontab 文件，即使在 root 用户下创建一个定时重启系统的任务也是无效的。")]),n._v(" "),e("h4",{attrs:{id:"其他注意事项"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#其他注意事项"}},[n._v("#")]),n._v(" 其他注意事项")]),n._v(" "),e("p",[n._v("新创建的 cron job，不会马上执行，至少要过 2 分钟才执行。如果重启 cron 则马上执行。")]),n._v(" "),e("p",[n._v("当 crontab 突然失效时，可以尝试/etc/init.d/crond restart 解决问题。或者查看日志看某个 job 有没有执行/报错 tail -f /var/log/cron。")]),n._v(" "),e("p",[n._v("千万别乱运行 crontab -r。它从 Crontab 目录（/var/spool/cron）中删除用户的 Crontab 文件。删除了该用户的所有 crontab 都没了。")]),n._v(" "),e("p",[n._v("在 crontab 中%是有特殊含义的，表示换行的意思。如果要用的话必须进行转义%，如经常用的 date ‘+%Y%m%d’在 crontab 里是不会执行的，应该换成 date ‘+%Y%m%d’。")])])}),[],!1,null,null,null);s.default=a.exports}}]);